{% extends "layout.html" %}

{% block content %}
<!-- ✅ Carousel Section with Equal Left & Right Padding -->
<div class="w-full py-6 flex justify-center">
  <div class="carousel-container w-full max-w-5xl px-4 relative">
    <div id="carouselTrack" class="carousel-slide">
      <img src="{{ url_for('static', filename='images/p1.jpeg') }}" alt="Slide 1">
      <img src="{{ url_for('static', filename='images/p2.jpeg') }}" alt="Slide 2">
      <img src="{{ url_for('static', filename='images/p3.jpeg') }}" alt="Slide 3">
    </div>

    <!-- Navigation Dots -->
    <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-3 z-10">
      <span class="dot" onclick="moveToSlide(0)"></span>
      <span class="dot" onclick="moveToSlide(1)"></span>
      <span class="dot" onclick="moveToSlide(2)"></span>
    </div>
  </div>
</div>

<!-- ✅ Hero Text Section -->
<div class="text-center mt-8 px-4 max-w-5xl mx-auto">
  <h1 class="text-5xl font-bold text-orange-600">Welcome to the Event & Party Organizer</h1>
  <p class="mt-3 text-lg text-gray-600">Find the best organizers for food, decoration, entertainment, and more!</p>
</div>

<!-- ✅ Services Section -->
<section id="services" class="mt-10 px-4 py-12 bg-orange-50">
  <h2 class="services-heading">Our Services</h2>

  {% if services %}
  <div class="services-grid">
      {% for service in services %}
  <div class="service-card">
    {% if service.image %}
      <img src="{{ url_for('static', filename='uploads/' + service.image) }}"
           alt="Service Image" class="service-image">
    {% endif %}
    <h3 class="service-title">{{ service.title }}</h3>
    <p class="service-category">{{ service.category }}</p>
    <p class="service-price">₹{{ service.price }}</p>
    <p class="service-description">{{ service.description }}</p>
  
    {% if service.organizer %}
    <p class="text-sm"><strong>Email:</strong> {{ service.organizer.email }}</p>
    <p class="text-sm"><strong>Mobile:</strong> {{ service.organizer.mobile }}</p>
    {% endif %}
  
    <a href="{{ url_for('review', service_id=service.id) }}" class="review-button">Write a Review</a>
  </div>
  {% endfor %}
  
  {% else %}
  <p class="no-service-message">No services available right now.</p>
  {% endif %}
</section>

<!-- ✅ Contact Section -->
<section id="contact" class="py-12 text-center bg-white">
  <h2 class="text-3xl font-bold text-gray-900">Contact Us</h2>
  <p class="mt-4 text-lg text-gray-700">
    Email: <strong>support@eventorganizer.com</strong> <br>
    Phone: <strong>+91-99999-99999</strong>
  </p>
</section>

<!-- ✅ JavaScript for Carousel -->
<script>
  let currentSlide = 0;
  const slides = document.getElementById('carouselTrack');
  const dots = document.querySelectorAll('.dot');
  const totalSlides = slides.children.length;

  function moveToSlide(index) {
    currentSlide = index;
    slides.style.transform = `translateX(-${index * 100}%)`;
    updateDots();
  }

  function updateDots() {
    dots.forEach((dot, i) => {
      dot.classList.toggle('bg-orange-500', i === currentSlide);
    });
  }

  setInterval(() => {
    currentSlide = (currentSlide + 1) % totalSlides;
    moveToSlide(currentSlide);
  }, 5000);

  moveToSlide(0);
</script>
{% endblock %}
